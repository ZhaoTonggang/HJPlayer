<!DOCTYPE html>
<html lang="zh-CN" onselectstart="return false" oncontextmenu=self.event.returnValue=false>
	<head>
		<meta charset="UTF-8">
		<title>HJPlayer - 画镜媒体播放器</title>
		<meta name="viewport"
			content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1, maximum-scale=1">
		<meta name="description" content="在线免费畅玩或下载红白机游戏，包括魂斗罗，超级玛丽，坦克大战等小霸王经典游戏，让我们一同找回童年的快乐！玩红白机游戏，就认准红白机游戏盒！">
		<meta name="keywords" content="HJPlayer,画镜,画镜数字,画镜播放器,H5播放器,m3u8播放器,flv播放器,网页播放器">
		<meta name="author" content="赵彤刚">
		<meta name="theme-color" content="#00ffff">
		<link rel="shortcut icon" href="./img/favicon.png" type="image/x-icon">
		<link rel="stylesheet" href="./css/style.css" />
		<script>
			// 获取URL中的url参数值
			const urldata = window.location.href;
			let search;
			// 解析URL参数部分
			try {
				search = decodeURI(atob(urldata.substring(urldata.indexOf('?') + 1, urldata.indexOf('.html'))));
			} catch {
				search = window.location.search.substr(1) || '';
			}
			const getUrlParam = (name) => {
				if (!search) return;
				let result = search.match(new RegExp('(^|&)' + name + '=([^&]*)(&|$)'));
				result = result ? decodeURIComponent(result[2]) : '';
				return result;
			}
			// 核心逻辑：根据url参数内容动态加载对应JS文件
			const urlParam = getUrlParam('url');
			const Script = document.createElement('script');
			Script.defer = true;
			if (urlParam.includes('m3u8')) {
				const p2pinfo = getUrlParam('p2pinfo');
				// 加载hls.min.js
				Script.src = p2pinfo === "1" ? './js/p2p.min.js' : './js/hls.min.js';
			} else if (urlParam.includes('flv')) {
				// 加载flv.min.js
				Script.src = './js/flv.min.js';
			}
			document.head.appendChild(Script);
		</script>
	</head>
	<body>
		<div id="player"></div>
		<div id="ADplayer"></div>
		<div id="ADtip"></div>
		<!--div class="tj"><script type="text/javascript" src="cnzz.com"></script></div-->
		<script defer src="./js/index.js"></script>
		<script defer src="./js/player.js"></script>
		<script defer src="./js/setting.js"></script>
		<script defer src="./js/script.js"></script>
		<!-- 谷歌自动广告 -->
		<script async
			src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3670070169085381"
			crossorigin="anonymous"></script>
		<noscript>
			<h1>本站功能实现依赖了大量JS，您的浏览器不支持或未启用JS！</h1>
		</noscript>
	</body>
</html>